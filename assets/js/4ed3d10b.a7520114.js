"use strict";(self.webpackChunkStable_Research=self.webpackChunkStable_Research||[]).push([[7821],{3905:(e,t,n)=>{n.d(t,{Zo:()=>c,kt:()=>h});var o=n(67294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,o,a=function(e,t){if(null==e)return{};var n,o,a={},r=Object.keys(e);for(o=0;o<r.length;o++)n=r[o],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(o=0;o<r.length;o++)n=r[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var l=o.createContext({}),p=function(e){var t=o.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},c=function(e){var t=p(e.components);return o.createElement(l.Provider,{value:t},e.children)},u="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return o.createElement(o.Fragment,{},t)}},k=o.forwardRef((function(e,t){var n=e.components,a=e.mdxType,r=e.originalType,l=e.parentName,c=s(e,["components","mdxType","originalType","parentName"]),u=p(n),k=a,h=u["".concat(l,".").concat(k)]||u[k]||d[k]||r;return n?o.createElement(h,i(i({ref:t},c),{},{components:n})):o.createElement(h,i({ref:t},c))}));function h(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var r=n.length,i=new Array(r);i[0]=k;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s[u]="string"==typeof e?e:a,i[1]=s;for(var p=2;p<r;p++)i[p]=n[p];return o.createElement.apply(null,i)}return o.createElement.apply(null,n)}k.displayName="MDXCreateElement"},3312:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>i,default:()=>d,frontMatter:()=>r,metadata:()=>s,toc:()=>p});var o=n(87462),a=(n(67294),n(3905));const r={},i="GitHub API",s={unversionedId:"code-sources/github",id:"code-sources/github",title:"GitHub API",description:"Easypanel provides integration with the GitHub API using Personal Access Tokens.",source:"@site/docs/06-code-sources/01-github.md",sourceDirName:"06-code-sources",slug:"/code-sources/github",permalink:"/docs/code-sources/github",draft:!1,editUrl:"https://github.com/tidal3527/stable-research/docs/06-code-sources/01-github.md",tags:[],version:"current",sidebarPosition:1,frontMatter:{},sidebar:"defaultSidebar",previous:{title:"ZNC",permalink:"/docs/templates/znc/"},next:{title:"Git SSH",permalink:"/docs/code-sources/git-ssh"}},l={},p=[{value:"Classic tokens",id:"classic-tokens",level:2},{value:"Generic information",id:"generic-information",level:3},{value:"Select scopes",id:"select-scopes",level:3},{value:"Fine-grained tokens",id:"fine-grained-tokens",level:2},{value:"Generic information",id:"generic-information-1",level:3},{value:"Repository access",id:"repository-access",level:3},{value:"Repository permissions",id:"repository-permissions",level:3},{value:"Adding the token to Easypanel",id:"adding-the-token-to-easypanel",level:2}],c={toc:p},u="wrapper";function d(e){let{components:t,...r}=e;return(0,a.kt)(u,(0,o.Z)({},c,r,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"github-api"},"GitHub API"),(0,a.kt)("p",null,"Easypanel provides integration with the GitHub API using Personal Access Tokens.\nGitHub currently provides 2 ways of generating these tokens:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Classic tokens"),(0,a.kt)("li",{parentName:"ul"},"Fine-grained tokens")),(0,a.kt)("p",null,"The main differences are the scopes between these tokens.\nClassic can access all repositories, while fine-grained only provides access to specific repositories.\nGitHub recommends the fine-grained solution, but the Classic token solution is also documented here."),(0,a.kt)("h2",{id:"classic-tokens"},"Classic tokens"),(0,a.kt)("p",null,"When using a classic token, the configuration on GitHub consists of a couple of steps.\nThese steps can be configured from the ",(0,a.kt)("a",{parentName:"p",href:"https://github.com/settings/tokens"},"Tokens (classic)"),' page through the "Generate new token"-button.'),(0,a.kt)("h3",{id:"generic-information"},"Generic information"),(0,a.kt)("p",null,"First, you'll need to provide some generic information regarding your token:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"A note, that will be used as the name, for the token (required, eventhough the UI does not represent this)"),(0,a.kt)("li",{parentName:"ul"},"When the token will expire")),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"Classic token step 1",src:n(87122).Z,width:"798",height:"288"})),(0,a.kt)("h3",{id:"select-scopes"},"Select scopes"),(0,a.kt)("p",null,"Next, and finally, you'll need to select the required scopes this token may access."),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",{parentName:"tr",align:"left"},"Scope"),(0,a.kt)("th",{parentName:"tr",align:"left"},"Permission reason"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:"left"},"repo"),(0,a.kt)("td",{parentName:"tr",align:"left"},"To access the contents of your repositories")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:"left"},"admin:repo_hook"),(0,a.kt)("td",{parentName:"tr",align:"left"},"The auto-deploy feature (can be left out if you'll only do manual deployments)")))),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"Classic token step 2",src:n(4816).Z,width:"793",height:"334"})),(0,a.kt)("p",null,"After selecting the scopes you can generate the token and configure it in Easypanel."),(0,a.kt)("h2",{id:"fine-grained-tokens"},"Fine-grained tokens"),(0,a.kt)("p",null,"For fine-grained tokens, you'll need to configure them in a couple of steps.\nThese steps can be configured from the ",(0,a.kt)("a",{parentName:"p",href:"https://github.com/settings/tokens?type=beta"},"Fine-grained tokens"),' page through the "Generate new token"-button.'),(0,a.kt)("h3",{id:"generic-information-1"},"Generic information"),(0,a.kt)("p",null,"First, you'll need to provide some generic information regarding your token:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"A name for the token"),(0,a.kt)("li",{parentName:"ul"},"When the token will expire"),(0,a.kt)("li",{parentName:"ul"},"(Optional) A description for the token"),(0,a.kt)("li",{parentName:"ul"},"The resource owner (can be either your account, or an organization you have access to)")),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"Fine-grained token step 1",src:n(833).Z,width:"1614",height:"760"})),(0,a.kt)("admonition",{type:"caution"},(0,a.kt)("p",{parentName:"admonition"},"If you update the expiration later on, it will re-generate the token value. This means you'll need to update the token in your Easypanel configuration with the new value.")),(0,a.kt)("h3",{id:"repository-access"},"Repository access"),(0,a.kt)("p",null,"Next, you'll need to configure what repositories this token may access.\nYour options are:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Public repositories"),(0,a.kt)("li",{parentName:"ul"},"All repositories"),(0,a.kt)("li",{parentName:"ul"},"Select repositories")),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"Fine-grained token step 2",src:n(13024).Z,width:"1592",height:"600"})),(0,a.kt)("admonition",{type:"info"},(0,a.kt)("p",{parentName:"admonition"},"Do note, that if you select the \"Select repositories\"-option, you'll need to update this list when Easypanel needs access to another repository.\nUpdating this list will not update the value of the token, so there's no need to replace it within Easypanel.")),(0,a.kt)("h3",{id:"repository-permissions"},"Repository permissions"),(0,a.kt)("p",null,"Finally, it's time to select the repository permissions that are needed for Easypanel. Most of the permissions you'll need will be read-only, with the exception being the Webhooks permission (for the autodeploy feature)."),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",{parentName:"tr",align:"left"},"Permission"),(0,a.kt)("th",{parentName:"tr",align:"left"},"Access level"),(0,a.kt)("th",{parentName:"tr",align:"left"},"Permission reason"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:"left"},"Metadata"),(0,a.kt)("td",{parentName:"tr",align:"left"},"Read-only"),(0,a.kt)("td",{parentName:"tr",align:"left"},"It's required by GitHub.")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:"left"},"Contents"),(0,a.kt)("td",{parentName:"tr",align:"left"},"Read-only"),(0,a.kt)("td",{parentName:"tr",align:"left"},"To access the contents of the repository.")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:"left"},"Webhooks"),(0,a.kt)("td",{parentName:"tr",align:"left"},"Read and write"),(0,a.kt)("td",{parentName:"tr",align:"left"},"The auto-deploy feature (can be left out if you'll only do manual deployments)")))),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"Fine-grained token step 3",src:n(77146).Z,width:"793",height:"375"})),(0,a.kt)("h2",{id:"adding-the-token-to-easypanel"},"Adding the token to Easypanel"),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"Go to ",(0,a.kt)("strong",{parentName:"p"},"Settings")," > ",(0,a.kt)("strong",{parentName:"p"},"Github")," and paste your token.")),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},'If the token is valid you will get a message saying "Github token updated"'))))}d.isMDXComponent=!0},87122:(e,t,n)=>{n.d(t,{Z:()=>o});const o=n.p+"assets/images/classic-token-step-1-31a2b6cecc2f228c1c785b668eb116eb.png"},4816:(e,t,n)=>{n.d(t,{Z:()=>o});const o=n.p+"assets/images/classic-token-step-2-5c79de5846a80b663e837d1927c2032d.png"},833:(e,t,n)=>{n.d(t,{Z:()=>o});const o=n.p+"assets/images/fine-grained-token-step-1-4060e045c1d0e8def0b1fbf7b26b8206.png"},13024:(e,t,n)=>{n.d(t,{Z:()=>o});const o=n.p+"assets/images/fine-grained-token-step-2-3432e7bbe38db82dc8624dae0c882c84.png"},77146:(e,t,n)=>{n.d(t,{Z:()=>o});const o=n.p+"assets/images/fine-grained-token-step-3-ff6218eb9bb64413aeb90fd0f2ad3257.png"}}]);